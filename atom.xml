<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lionel</title>
  
  <subtitle>Te Amo Messi</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.gze.me/"/>
  <updated>2018-06-11T10:01:47.516Z</updated>
  <id>https://www.gze.me/</id>
  
  <author>
    <name>Eric Villa</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>LNMP开启TLS1.3</title>
    <link href="https://www.gze.me/2018/06/07/tls/"/>
    <id>https://www.gze.me/2018/06/07/tls/</id>
    <published>2018-06-07T13:52:54.000Z</published>
    <updated>2018-06-11T10:01:47.516Z</updated>
    
    <content type="html"><![CDATA[<h3 id="部署openssl-1-1-1pre2"><a href="#部署openssl-1-1-1pre2" class="headerlink" title="部署openssl-1.1.1pre2"></a>部署openssl-1.1.1pre2</h3><p>  首先下载openssl1.1.1pre2并解压后,把文件夹重命名为openssl<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.openssl.org/<span class="built_in">source</span>/openssl-1.1.1-pre2.tar.gz</span><br><span class="line">tar xzf openssl-1.1.1-pre2.tar.gz</span><br><span class="line">mv openssl-1.1.1-pre2 openssl</span><br></pre></td></tr></table></figure></p>  <a id="more"></a><p>  当前openssl还是在开发阶段,所以版本还未很统一,我选择了兼容性较好的一个,详情更多版本可以看官方github <a href="https://github.com/openssl" target="_blank" rel="noopener">传送门</a></p><h3 id="修改LNMP升级脚本重新编译Nginx"><a href="#修改LNMP升级脚本重新编译Nginx" class="headerlink" title="修改LNMP升级脚本重新编译Nginx"></a>修改LNMP升级脚本重新编译Nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/lnmp1.5/include/</span><br><span class="line">rm -f upgrade_nginx.sh</span><br><span class="line">wget http://119.28.52.202/upgrade_nginx.sh</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">./upgrade.sh</span><br></pre></td></tr></table></figure><p>  然后,后面的选择的版本可以看自己的需要选择,我选择了1.14.0</p><h3 id="最后一步-修改Nginx网站配置文件"><a href="#最后一步-修改Nginx网站配置文件" class="headerlink" title="最后一步,修改Nginx网站配置文件"></a>最后一步,修改Nginx网站配置文件</h3><p>  打开需要开启tls1.3网站的配置文件 &#123; abc.com为你要修改的网站域名 &#125;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/<span class="built_in">local</span>/nginx/conf/vhost/www.abc.com.conf</span><br></pre></td></tr></table></figure><p>  替换ssl_protocols参数 加上Tls1.3<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;</span><br></pre></td></tr></table></figure></p><p>   替换ssl_ciphers参数<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssl_ciphers <span class="string">"TLS13-AES-256-GCM-SHA384:TLS13-AES-128-GCM-SHA256:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-CHACHA20-POLY1305-D:ECDHE-RSA-CHACHA20-POLY1305-D:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-RSA-AES256-SHA384"</span>;</span><br></pre></td></tr></table></figure></p><p>   然后重启LNMP就有可以看到已经开启成功</p><h3 id="未续待完"><a href="#未续待完" class="headerlink" title="未续待完"></a>未续待完</h3>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;部署openssl-1-1-1pre2&quot;&gt;&lt;a href=&quot;#部署openssl-1-1-1pre2&quot; class=&quot;headerlink&quot; title=&quot;部署openssl-1.1.1pre2&quot;&gt;&lt;/a&gt;部署openssl-1.1.1pre2&lt;/h3&gt;&lt;p&gt;  首先下载openssl1.1.1pre2并解压后,把文件夹重命名为openssl&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;wget https://www.openssl.org/&lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt;/openssl-1.1.1-pre2.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tar xzf openssl-1.1.1-pre2.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mv openssl-1.1.1-pre2 openssl&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="网络安全" scheme="https://www.gze.me/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
</feed>
